# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è DNA-utils-universal v2.0

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ Y-STR –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø.

## üöÄ –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏

### –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:

1. **STR Matcher (–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)**: `http://localhost:3000`
   - –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ (Client-side –∏ Backend).
2. **Haplogroup Viewer**: `http://localhost:5173`
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª–æ–≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø.

---

## üîç –†–µ–∂–∏–º—ã –ü–æ–∏—Å–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ –ø–æ–∏—Å–∫–∞, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é.

### 1. Backend Search (–ù–æ–≤—ã–π, –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
**–ê–¥—Ä–µ—Å (Local)**: `http://localhost:3000/backend-search`
**–ê–¥—Ä–µ—Å (Production)**: `https://pystr.valalav.ru/backend-search`

–≠—Ç–æ—Ç —Ä–µ–∂–∏–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –¥–≤–∏–∂–æ–∫ PostgreSQL.
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 162,000+ –ø—Ä–æ—Ñ–∏–ª–µ–π —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.
*   **–°–∫–æ—Ä–æ—Å—Ç—å**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (< 200 –º—Å).
*   **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
    *   –ü–æ–∏—Å–∫ –ø–æ **–ù–æ–º–µ—Ä—É –ö–∏—Ç–∞** (–µ—Å–ª–∏ –æ–Ω —É–∂–µ –µ—Å—Ç—å –≤ –±–∞–∑–µ).
    *   –ü–æ–∏—Å–∫ –ø–æ **–ú–∞—Ä–∫–µ—Ä–∞–º** (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥ DYS –∑–Ω–∞—á–µ–Ω–∏–π).
    *   **–ì–∞–ø–ª–æ–≥—Ä—É–ø–ø–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä**: –° –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—É–±–∫–ª–∞–¥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `R-M269` –Ω–∞–π–¥–µ—Ç –∏ `R-L23`).

...

**Q: –ö–∞–∫–æ–π –ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
A:
*   `3000`: Frontend (–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ).
*   `9003`: Legacy Haplo Service (API –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø).
*   `9004`: Backend API (Development).
*   `9005`: Backend API (Production).
    *   **–ò–º–ø–æ—Ä—Ç**: –ú–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –ø—Ä–æ—Ñ–∏–ª–∏ (–∫–Ω–æ–ø–∫–∞ "–ò–º–ø–æ—Ä—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π") –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π.

### 2. Client-Side Search (–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π)
**–ê–¥—Ä–µ—Å**: `http://localhost:3000` (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

–≠—Ç–æ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç **–ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ**. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ü—É—Å—Ç–∞—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ. –í—ã –∑–∞–≥—Ä—É–∂–∞–µ—Ç–µ —Å–≤–æ–∏ CSV/Excel —Ñ–∞–π–ª—ã.
*   **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ).
*   **–°–∫–æ—Ä–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –¥–æ 300,000 –ø—Ä–æ—Ñ–∏–ª–µ–π.

---

## üìä –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (Client-Side Mode)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –≤—ã —Å–∞–º–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

#### 1. Data Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –±–∞–∑:
*   **AADNA.ru**: ~50,000 –ø—Ä–æ—Ñ–∏–ª–µ–π (Y-DNA).
*   **R1a / R1b / J1 / J2 Databases**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–±–æ—Ä–∫–∏.

**–ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å**:
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –±–∞–∑—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "Data Repositories".
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å". –ë–∞–∑–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—Ä–∞—É–∑–µ—Ä–∞.

#### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –§–∞–π–ª–æ–≤ (Excel/CSV)
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã `.csv`, `.xlsx`, `.xls`.
**–¢—Ä–µ–±—É–µ–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏**: `Kit Number`, `Haplogroup`, –∏ –º–∞—Ä–∫–µ—Ä—ã (`DYS393`, `DYS390` –∏ —Ç.–¥.).

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –≤ –∑–æ–Ω—É –∑–∞–≥—Ä—É–∑–∫–∏.
2. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ—Ç–æ–∫–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞).
3. –î—É–±–ª–∏–∫–∞—Ç—ã (–ø–æ –Ω–æ–º–µ—Ä—É –∫–∏—Ç–∞) –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã.

---

## üîß –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤ –ø–æ–∏—Å–∫–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
*   **Distance (GD)**: –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è.
    *   `0`: –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ.
    *   `1-4`: –ë–ª–∏–∑–∫–æ–µ —Ä–æ–¥—Å—Ç–≤–æ.
    *   `5+`: –î–∞–ª—å–Ω–µ–µ —Ä–æ–¥—Å—Ç–≤–æ.
*   **Shared**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä–∫–µ—Ä–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —à–ª–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º —Ç–æ—á–Ω–µ–µ, –º–∏–Ω–∏–º—É–º 12).
*   **Haplogroup**: –ö–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—É—Ç—å –≤ –¥–µ—Ä–µ–≤–µ FTDNA/YFull.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ú–∞—Ä–∫–µ—Ä–æ–≤
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –∏ —Ä–µ–¥–∫–æ—Å—Ç—å –∞–ª–ª–µ–ª–µ–π:
*   **–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞**:
    *   <span style="color:blue">**–°–∏–Ω–∏–π (+/-)**</span>: –ó–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞—à–µ–≥–æ.
*   **–§–æ–Ω —è—á–µ–π–∫–∏ (–†–µ–¥–∫–æ—Å—Ç—å)**:
    *   üü® **–ë–µ–∂–µ–≤—ã–π**: –ù–µ–æ–±—ã—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (<20%).
    *   üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–π**: –†–µ–¥–∫–æ–µ (<12%).
    *   üî¥ **–ö—Ä–∞—Å–Ω—ã–π**: –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ/–ö—Ä–∞–π–Ω–µ —Ä–µ–¥–∫–æ–µ (<4%).

### –§–∏–ª—å—Ç—Ä—ã –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
*   **Haplogroup Filter**: –í–≤–µ–¥–∏—Ç–µ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `I-M253`). –ì–∞–ª–æ—á–∫–∞ `Include subclades` –≤–∫–ª—é—á–∏—Ç –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –≤–µ—Ç–≤–∏.
*   **Marker Filter**: –ö–ª–∏–∫–Ω–∏—Ç–µ —á–µ–∫–±–æ–∫—Å –Ω–∞–¥ –∫–æ–ª–æ–Ω–∫–æ–π –º–∞—Ä–∫–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `DYS393`), —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å *–≤–∞—à–∏–º* –∑–Ω–∞—á–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ —Ç–µ—Ö, —É –∫–æ–≥–æ DYS393=13).

---

## üåç Haplogroup Viewer

–î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5173`.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ñ–∏–ª–æ–≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ Y-—Ö—Ä–æ–º–æ—Å–æ–º—ã.

*   **–ü–æ–∏—Å–∫**: –í–≤–µ–¥–∏—Ç–µ –∏–º—è –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä. `R-Z280`) –∏–ª–∏ SNP (–Ω–∞–ø—Ä. `Z280`).
*   **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**:
    *   –ü—É—Ç—å –≤ –¥–µ—Ä–µ–≤–µ (FTDNA / YFull).
    *   –í–æ–∑—Ä–∞—Å—Ç (TMRCA).
    *   –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (—á–∞—Å—Ç–æ—Ç—ã –ø–æ —Å—Ç—Ä–∞–Ω–∞–º).
*   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ö–ª–∏–∫–∞–π—Ç–µ –ø–æ —É–∑–ª–∞–º –¥–µ—Ä–µ–≤–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Backend Search –∏ –æ–±—ã—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π?**
A: **Backend Search** –∏—â–µ—Ç –ø–æ –æ–≥—Ä–æ–º–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –±–∞–∑–µ (162k+). **–û–±—ã—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** –∏—â–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Ñ–∞–π–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –º–æ–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º –ø–æ–∏—Å–∫–µ?**
A: –¢–æ–ª—å–∫–æ –≤ `IndexedDB` –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞. –ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞ –æ–Ω–∏ –ø—Ä–æ–ø–∞–¥—É—Ç.

**Q: –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –±–∞–∑—É (Backend)?**
A: –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã –∏–º–ø–æ—Ä—Ç–∞ (`npm run import:csv` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ò–º–ø–æ—Ä—Ç" –≤ Backend Search –¥–ª—è *–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ* –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é.

**Q: –ö–∞–∫–æ–π –ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
A:
*   `3000`: Frontend (–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ).
*   `5173`: Haplogroup Viewer (Local Dev).
*   `9003`: Legacy Haplo Service (API –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø).
*   `9004`: Backend API (Development).
*   `9005`: Backend API (Production).