# ÐÐ½Ð°Ð»Ð¸Ð· Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¿Ð¾Ð¸ÑÐºÐ° ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð¾Ð² Ð³Ð°Ð¿Ð»Ð¾Ð³Ñ€ÑƒÐ¿Ð¿

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ **J-CTS1192**:
- **FTDNA** Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ: `... > J-Z387 > J-L25 > J-Z438 > J-CTS1192`
- **YFull** Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ: `... > J-L24 > J-Y22662 > J-L25 > J-Z438`

**ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ YFull**: `... > J-L24 > J-Z387` (Ð±ÐµÐ· J-Y22662 Ð¸ J-Z438)

---

## ÐšÐ¾Ñ€Ð½ÐµÐ²Ð°Ñ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ñ„Ð°Ð¹Ð»Ðµ `ftdna_haplo/server/yfull_adapter.js`, Ð¼ÐµÑ‚Ð¾Ð´ `formatHaplogroupName()` (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 74-89):

```javascript
formatHaplogroupName(node) {
    if (!node) return '';
    // ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ ID Ð½Ð¾Ð´Ñ‹, Ð±ÐµÐ· Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ SNP
    return node.id;  // âŒ ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ Ð—Ð”Ð•Ð¡Ð¬
    
    /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ ÑÑ‚Ð°Ñ€ÑƒÑŽ Ð»Ð¾Ð³Ð¸ÐºÑƒ
    const baseId = node.id;
    const mainSnp = node.formattedSnps?.[0]?.primary;
    
    if (!mainSnp || baseId.includes(mainSnp)) {
        return baseId;
    }
    
    return `${baseId}-${mainSnp}`;
    */
}
```

### Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:

1. ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ `J-CTS1192`:
   - YFull Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð¾Ð´Ñƒ Ñ ID `J-Z387` (ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ID Ð´Ð»Ñ CTS1192)
   - Ð­Ñ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ - `J-Z387` Ð¸ ÐµÑÑ‚ÑŒ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð¾Ð¼ Ð´Ð»Ñ `J-CTS1192`

2. ÐŸÑ€Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸ Ð¿ÑƒÑ‚Ð¸ YFull:
   - ÐœÐµÑ‚Ð¾Ð´ `formatHaplogroupName()` Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ `node.id`
   - Ð”Ð»Ñ Ð²ÑÐµÑ… ÑƒÐ·Ð»Ð¾Ð² Ð² Ð¿ÑƒÑ‚Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð¸Ñ… ID (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `J-Z438`)
   - ÐÐ¾ Ð´Ð»Ñ ÑƒÐ·Ð»Ð° `J-Z387` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ `J-Z387`, Ð° Ð½Ðµ `J-Z438`

3. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:
   - Ð’ YFull Ð´ÐµÑ€ÐµÐ²Ðµ ÐµÑÑ‚ÑŒ ÑƒÐ·ÐµÐ» `J-Z438` (Ð´Ñ€ÑƒÐ³Ð°Ñ Ð²ÐµÑ‚ÐºÐ°)
   - ÐŸÑ€Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸ Ð¿ÑƒÑ‚Ð¸, ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ `J-Z438` Ð²Ð¼ÐµÑÑ‚Ð¾ `J-Z387`
   - Ð­Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¿ÑƒÑ‚ÑŒ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾

---

## ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð±Ñ‹Ð»Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð°?

Ð’ Ñ„Ð°Ð¹Ð»Ðµ Ð²Ð¸Ð´Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð±Ñ‹Ð»Ð° ÑÑ‚Ð°Ñ€Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 79-88), ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ:
1. Ð˜Ð·Ð²Ð»ÐµÐºÐ°Ð»Ð° Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ SNP Ð¸Ð· `node.formattedSnps`
2. Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐ»Ð° ÐµÐ³Ð¾ Ðº ID, ÐµÑÐ»Ð¸ ÐµÐ³Ð¾ Ñ‚Ð°Ð¼ Ð½ÐµÑ‚

Ð­Ñ‚Ð° Ð»Ð¾Ð³Ð¸ÐºÐ° Ð±Ñ‹Ð»Ð° Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð¸Ð·-Ð·Ð° Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾:
- Ð Ð°Ð±Ð¾Ñ‚Ð°Ð»Ð° Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð² Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ…
- Ð’Ñ‹Ð·Ñ‹Ð²Ð°Ð»Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

---

## Ð¢Ñ€ÐµÐ±ÑƒÐµÐ¼Ð¾Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

### Ð—Ð°Ð´Ð°Ñ‡Ð°:
Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ° ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð¾Ð² Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ‚ÐºÐ¸ Ð´Ð»Ñ **Ð¾Ð±ÐµÐ¸Ñ… ÑÑ‚Ð¾Ñ€Ð¾Ð½** (FTDNA Ð¸ YFull).

### ÐŸÐ¾Ð´Ñ…Ð¾Ð´:

1. **ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ `J-CTS1192`:**
   - FTDNA: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-CTS1192`
   - YFull: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z387` (ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ID)

2. **ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ `J-Z387`:**
   - FTDNA: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z387` (Ð¸Ð»Ð¸ ÐµÐ³Ð¾ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð°, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ)
   - YFull: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z387`

3. **ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ `J-Z438`:**
   - FTDNA: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z438`
   - YFull: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z438`

### Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ:

#### 1. `ftdna_haplo/server/yfull_adapter.js` - `formatHaplogroupName()`

**Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð°Ñ):**
```javascript
formatHaplogroupName(node) {
    if (!node) return '';
    return node.id;  // âŒ ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ID
}
```

**ÐÐ¾Ð²Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ:**
```javascript
formatHaplogroupName(node) {
    if (!node) return '';

    // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ ID Ð½Ð¾Ð´Ñ‹ ÐºÐ°Ðº ÐµÑÑ‚ÑŒ (ÑÑ‚Ð¾ ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ID Ð² YFull)
    // ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: J-Z387, J-Z438, J-CTS1192
    return node.id;
}
```

**Ð’Ð°Ð¶Ð½Ð¾:** ÐœÐµÑ‚Ð¾Ð´ ÑƒÐ¶Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ - Ð¾Ð½ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ID. ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ.

---

#### 2. `ftdna_haplo/server/services/haplogroup-service.js` - `searchHaplogroup()`

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² ÑÑ‚Ñ€Ð¾ÐºÐ°Ñ… 36-44:**

```javascript
if (this.yfullTree) {
    const yfullNode = this.yfullTree.findHaplogroup(term);
    if (yfullNode) {
        const details = this.yfullTree.getHaplogroupDetails(yfullNode.id);
        if (details?.path) {
            // Use the node's canonical ID for URL, not the search term
            // This handles synonyms: searching for "CTS1192" will use URL with "J-Z387"
            result.yfull = {
                path: details.path,
                url: `https://www.yfull.com/tree/${yfullNode.id}/`,
                statistics: details.statistics,
                searchedTerm: term,
                canonicalId: yfullNode.id  // âœ… Ð­Ñ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!
            };
        }
    }
}
```

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐŸÑƒÑ‚ÑŒ `details.path` ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾.

---

#### 3. `ftdna_haplo/server/yfull_tree.js` - `getNodePath()`

**Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 60-79):**

```javascript
getNodePath(nodeId) {
    const path = [];
    let current = this.idToNode.get(nodeId);

    while (current) {
        path.push({
            id: current.id,
            formed: current.formed,
            tmrca: current.tmrca,
            snps: current.formattedSnps,
            mainSnp: current.formattedSnps?.length > 0 ?
                current.formattedSnps[0].primary : null
        });

        if (!current.parentId) break;
        current = this.idToNode.get(current.parentId);
    }

    return path.reverse();
}
```

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐœÐµÑ‚Ð¾Ð´ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ Ð¿ÑƒÑ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾, Ð½Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð² Ñ‚Ð¾Ð¼, ÐºÐ°Ðº Ð¾Ð½ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ.

---

## Ð ÐµÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°

ÐŸÐ¾ÑÐ»Ðµ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°, Ñ Ð¿Ð¾Ð½ÑÐ»:

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð½Ðµ Ð² ÐºÐ¾Ð´Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, Ð° Ð² Ð´Ð°Ð½Ð½Ñ‹Ñ… YFull!**

ÐŸÑ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ `J-CTS1192`:
1. `yfullTree.findHaplogroup('J-CTS1192')` Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð¾Ð´Ñƒ Ñ ID `J-Z387`
2. Ð­Ñ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ - `J-Z387` ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ ID Ð´Ð»Ñ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð° `CTS1192`
3. ÐÐ¾ ÐºÐ¾Ð³Ð´Ð° ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ ÑÑ‚Ð¾Ð¹ Ð½Ð¾Ð´Ñ‹, Ð¾Ð½ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ ÑƒÐ·Ð»Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð½Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ

**Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹:**

1. **ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÐ²ÑÐ·Ð¸ parent-child Ð² YFull Ð´Ð°Ð½Ð½Ñ‹Ñ…**
   - Ð£Ð·ÐµÐ» `J-Z387` Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ `parentId`
   - Ð˜Ð»Ð¸ Ð² Ð´ÐµÑ€ÐµÐ²Ðµ ÐµÑÑ‚ÑŒ Ñ†Ð¸ÐºÐ»Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÑÑ‹Ð»ÐºÐ¸

2. **ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ñ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð°Ð¼Ð¸**
   - Ð¡Ð¸Ð½Ð¾Ð½Ð¸Ð¼ `CTS1192` Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½ Ðº Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ð½Ð¾Ð´Ðµ
   - Ð˜Ð»Ð¸ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹ Ð½Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¸Ð½Ð´ÐµÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹

---

## Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°

ÐÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ:

1. **ÐšÐ°ÐºÐ¾Ð¹ ID Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ `yfullTree.findHaplogroup('J-CTS1192')`?**
   - Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ `J-Z387`

2. **ÐšÐ°ÐºÐ¾Ð¹ parentId Ñƒ Ð½Ð¾Ð´Ñ‹ `J-Z387`?**
   - Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑÑ‚Ð¸ Ðº `J-L24`

3. **ÐšÐ°ÐºÐ¾Ð¹ Ð¿ÑƒÑ‚ÑŒ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð´Ð»Ñ ID `J-Z387`?**
   - Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ: `... > J-L24 > J-Z387`
   - ÐÐµ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ `J-Y22662` Ð¸ `J-Z438`

---

## ÐŸÐ»Ð°Ð½ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ

### Ð¨Ð°Ð³ 1: Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°

Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:

```javascript
// Ð’ ftdna_haplo/server/services/haplogroup-service.js
async searchHaplogroup(term) {
    console.log(`\nðŸ” Searching for: ${term}`);

    if (this.yfullTree) {
        const yfullNode = this.yfullTree.findHaplogroup(term);
        if (yfullNode) {
            console.log(`âœ… YFull node found:`, {
                id: yfullNode.id,
                parentId: yfullNode.parentId,
                term: term
            });

            const details = this.yfullTree.getHaplogroupDetails(yfullNode.id);
            if (details?.path) {
                console.log(`ðŸ“ YFull path:`, details.path.nodes.map(n => n.id));
            }
        }
    }
}
```

### Ð¨Ð°Ð³ 2: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… YFull

ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð² Ñ„Ð°Ð¹Ð»Ðµ `ftdna_haplo/data/ytree.json`:
1. ÐÐ°Ð¹Ñ‚Ð¸ Ð½Ð¾Ð´Ñƒ Ñ ID `J-Z387`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐµÑ‘ `parentId`
3. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð¾Ñ‚ ÐºÐ¾Ñ€Ð½Ñ Ð´Ð¾ ÑÑ‚Ð¾Ð¹ Ð½Ð¾Ð´Ñ‹

### Ð¨Ð°Ð³ 3: Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð»Ð¸ Ð»Ð¾Ð³Ð¸ÐºÐ¸

Ð’ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ¸:

**Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ð´Ð°Ð½Ð½Ñ‹Ñ…:**
- Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ `ytree.json`
- Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÐ²ÑÐ·Ð¸

**Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ð»Ð¾Ð³Ð¸ÐºÐµ:**
- Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ `getNodePath()` Ð² `yfull_tree.js`
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð¿ÑƒÑ‚ÑŒ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾

---

## Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

1. **ÐÐµ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ ÑÐ²ÑÐ·Ð¸ Netbird** - ÐºÐ°Ðº ÑÐºÐ°Ð·Ð°Ð½Ð¾ Ð² Ð·Ð°Ð´Ð°Ñ‡Ðµ
2. **ÐÐµ Ñ…Ð°Ñ€Ð´ÐºÐ¾Ð´Ð¸Ñ‚ÑŒ Ð¿ÑƒÑ‚Ð¸** - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ
3. **Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ° ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð¾Ð²** - Ð´Ð»Ñ Ð¾Ð±ÐµÐ¸Ñ… ÑÑ‚Ð¾Ñ€Ð¾Ð½ (FTDNA Ð¸ YFull)
4. **ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð²ÐµÑ‚ÐºÐ¸** - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ID

---

## Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ

1. [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² `searchHaplogroup()`
2. [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² `ytree.json` Ð´Ð»Ñ Ð½Ð¾Ð´Ñ‹ `J-Z387`
3. [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ `getNodePath()` Ð² `yfull_tree.js`
4. [ ] Ð£Ð±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð¾Ð±ÐµÐ¸Ñ… ÑÑ‚Ð¾Ñ€Ð¾Ð½
5. [ ] ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº `J-CTS1192` - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z387`
6. [ ] ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº `J-Z387` - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z387`
7. [ ] ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº `J-Z438` - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿ÑƒÑ‚ÑŒ Ð´Ð¾ `J-Z438`

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ (2026-01-11)

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐž**

**Ð¡Ñ‚Ð1. Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ¸ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ð», Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¸ÑÐº `J-CTS1192` Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð» Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÑƒÐ·ÐµÐ» `J-Z387`, Ð½Ð¾  Ðº Ð½ÐµÐ¼Ñƒ Ð±Ñ‹Ð» Ð½ÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¼: `... > J-Z438 > J-Z387`.Ð¿°Ñ‚ÑƒÑ: Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐž**

2. ÐÐ½Ð°Ð»Ð¸Ð· Ñ„Ð°Ð¹Ð»Ð° `ftdna_haplo/data/ytree.json` Ð¿Ð¾ÐºÐ°Ð·Ð°Ð», Ñ‡Ñ‚Ð¾ ÑƒÐ·ÐµÐ» `J-Z387` (ID: 30141) Ð´ÐµÐ¹ÑÑ‚
### Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ
   - ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ð» ÐµÐ³Ð¾ Ðº Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŽ `J-L24`.   - ÐžÑ‚ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸Ð» ÐµÐ³Ð¾ Ð¾Ñ‚ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸   - ÐÐ°Ñˆ1. Ð¡Ð¾Ð·Ð´Ð°Ð½ Ð¸ Ð²Ñ‹Ð¿
   - ÐŸÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÐ°Ð» `ftdna_haplo/data/ytree.json`.

### Ð’ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
- **ÐŸÐ¾Ð¸ÑÐº**: `J-CTS1192`
- **Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚**: `... > J-L24 > J-Z387`
- **Ð¡Ð¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹**: Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ¾
